{"ast":null,"code":"var _jsxFileName = \"/Users/arthurcen/Developer/cove/src/features/mediator/MediatorChatScreen.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport BackArrowIcon from '../../shared/components/BackArrowIcon';\nimport SendIcon from '../../shared/components/SendIcon';\nimport Icon from '../../shared/components/Icon';\nimport { ICONS } from '../../shared/constants/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MediatorChatScreen = ({\n  setView,\n  styles\n}) => {\n  _s();\n  const [sessionStarted, setSessionStarted] = useState(false);\n  const [messages, setMessages] = useState([{\n    sender: 'ai',\n    text: \"Welcome. This is a private and secure space to communicate. When you're ready, please press 'Start Session' below.\"\n  }]);\n  const [inputValue, setInputValue] = useState('');\n  const messageAreaRef = useRef(null);\n  useEffect(() => {\n    if (messageAreaRef.current) {\n      messageAreaRef.current.scrollTop = messageAreaRef.current.scrollHeight;\n    }\n  }, [messages]);\n  const handleStartSession = () => {\n    setMessages(prev => [...prev, {\n      sender: 'ai',\n      text: \"Great. To begin, please take a moment to describe the situation from your perspective. What happened that led to this conflict?\"\n    }]);\n    setSessionStarted(true);\n  };\n  const handleSendMessage = () => {\n    if (inputValue.trim() === '') return;\n    const userMessage = {\n      sender: 'user',\n      text: inputValue\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInputValue('');\n    setTimeout(() => {\n      const aiResponse = {\n        sender: 'ai',\n        text: \"Thank you for sharing. Can you tell me more about how that made you feel?\"\n      };\n      setMessages(prev => [...prev, aiResponse]);\n    }, 1200);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.chatContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.pageHeader,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setView('home'),\n        style: styles.backButton,\n        children: /*#__PURE__*/_jsxDEV(BackArrowIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.chatHeaderInfo,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.avatar,\n          children: /*#__PURE__*/_jsxDEV(Icon, {\n            path: ICONS.avatar,\n            color: \"#8DB5EE\",\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.chatHeaderTitle,\n          children: \"AI Mediator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.messageArea,\n      ref: messageAreaRef,\n      children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: msg.sender === 'ai' ? styles.mediatorMessageWrapper : styles.userMessageWrapper,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: msg.sender === 'ai' ? styles.mediatorMessageBubble : styles.userMessageBubble,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: msg.sender === 'ai' ? styles.messageText : styles.userMessageText,\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 26\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.chatFooter,\n      children: !sessionStarted ? /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          ...styles.button,\n          width: '100%'\n        },\n        onClick: handleStartSession,\n        children: \"Start Session\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 22\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.chatInputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          style: styles.chatInput,\n          placeholder: \"Type your message...\",\n          value: inputValue,\n          onChange: e => setInputValue(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && handleSendMessage()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.sendButton,\n          onClick: handleSendMessage,\n          children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(MediatorChatScreen, \"5S+GGZB1mE4HubMcqpQER1tKQ34=\");\n_c = MediatorChatScreen;\nexport default MediatorChatScreen;\nvar _c;\n$RefreshReg$(_c, \"MediatorChatScreen\");","map":{"version":3,"names":["React","useState","useEffect","useRef","BackArrowIcon","SendIcon","Icon","ICONS","jsxDEV","_jsxDEV","MediatorChatScreen","setView","styles","_s","sessionStarted","setSessionStarted","messages","setMessages","sender","text","inputValue","setInputValue","messageAreaRef","current","scrollTop","scrollHeight","handleStartSession","prev","handleSendMessage","trim","userMessage","setTimeout","aiResponse","style","chatContainer","children","pageHeader","onClick","backButton","fileName","_jsxFileName","lineNumber","columnNumber","chatHeaderInfo","avatar","path","color","size","chatHeaderTitle","messageArea","ref","map","msg","index","mediatorMessageWrapper","userMessageWrapper","mediatorMessageBubble","userMessageBubble","messageText","userMessageText","chatFooter","button","width","chatInputContainer","chatInput","placeholder","value","onChange","e","target","onKeyPress","key","sendButton","_c","$RefreshReg$"],"sources":["/Users/arthurcen/Developer/cove/src/features/mediator/MediatorChatScreen.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport BackArrowIcon from '../../shared/components/BackArrowIcon';\nimport SendIcon from '../../shared/components/SendIcon';\nimport Icon from '../../shared/components/Icon';\nimport { ICONS } from '../../shared/constants/icons';\n\nconst MediatorChatScreen = ({ setView, styles }) => {\n    const [sessionStarted, setSessionStarted] = useState(false);\n    const [messages, setMessages] = useState([\n        { \n            sender: 'ai', \n            text: \"Welcome. This is a private and secure space to communicate. When you're ready, please press 'Start Session' below.\" \n        }\n    ]);\n    const [inputValue, setInputValue] = useState('');\n    const messageAreaRef = useRef(null);\n\n    useEffect(() => {\n        if (messageAreaRef.current) {\n            messageAreaRef.current.scrollTop = messageAreaRef.current.scrollHeight;\n        }\n    }, [messages]);\n\n    const handleStartSession = () => {\n        setMessages(prev => [...prev, {\n            sender: 'ai',\n            text: \"Great. To begin, please take a moment to describe the situation from your perspective. What happened that led to this conflict?\"\n        }]);\n        setSessionStarted(true);\n    };\n\n    const handleSendMessage = () => {\n        if (inputValue.trim() === '') return;\n        \n        const userMessage = { sender: 'user', text: inputValue };\n        setMessages(prev => [...prev, userMessage]);\n        setInputValue('');\n\n        setTimeout(() => {\n            const aiResponse = { sender: 'ai', text: \"Thank you for sharing. Can you tell me more about how that made you feel?\" };\n            setMessages(prev => [...prev, aiResponse]);\n        }, 1200);\n    };\n\n    return (\n        <div style={styles.chatContainer}>\n            <div style={styles.pageHeader}>\n                <button onClick={() => setView('home')} style={styles.backButton}>\n                    <BackArrowIcon />\n                </button>\n                <div style={styles.chatHeaderInfo}>\n                    <div style={styles.avatar}>\n                        <Icon path={ICONS.avatar} color=\"#8DB5EE\" size={24}/>\n                    </div>\n                    <p style={styles.chatHeaderTitle}>AI Mediator</p>\n                </div>\n            </div>\n            <div style={styles.messageArea} ref={messageAreaRef}>\n                {messages.map((msg, index) => (\n                    <div key={index} style={msg.sender === 'ai' ? styles.mediatorMessageWrapper : styles.userMessageWrapper}>\n                         <div style={msg.sender === 'ai' ? styles.mediatorMessageBubble : styles.userMessageBubble}>\n                            <p style={msg.sender === 'ai' ? styles.messageText : styles.userMessageText}>{msg.text}</p>\n                        </div>\n                    </div>\n                ))}\n            </div>\n            <div style={styles.chatFooter}>\n                 {!sessionStarted ? (\n                     <button style={{...styles.button, width: '100%'}} onClick={handleStartSession}>\n                        Start Session\n                    </button>\n                 ) : (\n                     <div style={styles.chatInputContainer}>\n                         <input\n                            style={styles.chatInput}\n                            placeholder=\"Type your message...\"\n                            value={inputValue}\n                            onChange={(e) => setInputValue(e.target.value)}\n                            onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n                         />\n                         <button style={styles.sendButton} onClick={handleSendMessage}>\n                            <SendIcon />\n                         </button>\n                     </div>\n                 )}\n            </div>\n        </div>\n    );\n};\n\nexport default MediatorChatScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}